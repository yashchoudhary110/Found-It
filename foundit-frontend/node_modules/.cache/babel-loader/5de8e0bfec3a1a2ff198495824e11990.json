{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yashc\\\\Desktop\\\\foundit2_final_g\\\\foundit2_final_g\\\\foundit-frontend\\\\src\\\\components\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport TextField from '@mui/material/TextField';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup(props) {\n  _s();\n\n  const [credentials, setCredentials] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    cpassword: \"\",\n    mobile_no: \"\",\n    department: \"\"\n  });\n  const [user_image, setUser_image] = useState();\n  const [imglmtexc, setImglmtexc] = useState(false);\n  const [gen, setGen] = useState('');\n  const fontsize = 21;\n  const fontS = {\n    style: {\n      fontSize: fontsize\n    }\n  };\n  const minl = {\n    minLength: 2\n  };\n\n  const onChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const {\n    email,\n    name,\n    password,\n    mobile_no,\n    department\n  } = credentials;\n\n  const handleSignup = async e => {\n    e.preventDefault(); // default settings of form\n    // *******API call to Signup*****\n\n    var FormData = require('form-data');\n\n    let data = new FormData();\n    data.append('name', name);\n    data.append('email', email);\n    data.append('password', password);\n    data.append('mobile_no', mobile_no);\n    data.append('department', department);\n    data.append('gender', gen);\n    data.append('user_image', user_image); // Image validation\n\n    let li_dot = user_image.name.lastIndexOf('.');\n    let img_ext = user_image.name.substring(li_dot + 1);\n\n    if (!(img_ext === 'jpeg' || img_ext === 'png' || img_ext === 'jpg')) {\n      alert(\"please upload a image not a file\");\n      return;\n    }\n\n    if (user_image && user_image.size > 2 * 1024 * 1024) {\n      setImglmtexc(true);\n      props.showAlert(\"Image size exceeded\", \"danger\");\n      return;\n    }\n\n    setImglmtexc(false); // Email validation\n\n    if (!email.includes(\"@gmail.com\")) {\n      props.showAlert(\"Enter your webmail of NITT\", \"danger\");\n      return;\n    }\n\n    const response = await fetch(`/api/auth/createuser`, {\n      method: 'POST',\n      body: data\n    });\n    const json = await response.json();\n\n    if (json.success) {\n      localStorage.removeItem('auth_token');\n      props.showAlert(\"An Email is sent on your email id please verify that.\", \"success\");\n    } else {\n      props.showAlert(json.message, \"danger\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column justify-content-center align-items-center m-3 my-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-4 col-md-9 col-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"Register to foundIt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignup,\n        method: \"POST\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            id: \"name\",\n            label: \"Name\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"name\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: minl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"email\",\n            fullWidth: true,\n            id: \"email\",\n            label: \"Webmail address\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"email\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: minl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            id: \"mobile_no\",\n            label: \"Mobile Number\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"mobile_no\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: {\n              minLength: 10,\n              maxLength: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            id: \"department\",\n            label: \"Department\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"department\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: minl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"password\",\n            fullWidth: true,\n            id: \"password\",\n            label: \"Password\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"password\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: {\n              minLength: 5,\n              maxLength: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"password\",\n            fullWidth: true,\n            id: \"cpassword\",\n            label: \"Confirm Password\",\n            variant: \"standard\",\n            onChange: onChange,\n            name: \"cpassword\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            inputProps: {\n              minLength: 5,\n              maxLength: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 input-group-lg\",\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-helper-label\",\n              sx: {\n                fontSize: fontsize\n              },\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-helper-label\",\n              id: \"demo-simple-select-helper\",\n              value: gen,\n              sx: {\n                fontSize: fontsize\n              },\n              label: \"Age\",\n              onChange: e => {\n                setGen(e.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                sx: {\n                  fontSize: fontsize\n                },\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"None\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Male\",\n                sx: {\n                  fontSize: fontsize\n                },\n                children: \"Male\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Female\",\n                sx: {\n                  fontSize: fontsize\n                },\n                children: \"Female\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Other\",\n                sx: {\n                  fontSize: fontsize\n                },\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 input-group-lg p-0\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            focused: true,\n            label: \"Your image\",\n            type: \"file\",\n            fullWidth: true,\n            id: \"email\",\n            variant: \"standard\",\n            name: \"email\",\n            InputProps: fontS,\n            InputLabelProps: fontS,\n            onChange: event => {\n              const image = event.target.files[0];\n              if (image && image.size > 2 * 1024 * 1024) setImglmtexc(true);else setImglmtexc(false);\n              setUser_image(image);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-row justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-text p-0 m-0\",\n              children: \"max image size is 2MB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), imglmtexc && /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user_image\",\n              className: \"p-0 m-0 text-danger form-text\",\n              children: \" Image size exceeded!!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary btn-lg\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-0 mt-4 fs-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted d-inline\",\n            children: \"Already have an Account? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n            className: \"\",\n            to: \"/login\",\n            children: \"Signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 78\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"ptHK1f/6m+teYIlmAg94HCPWa9M=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/yashc/Desktop/foundit2_final_g/foundit2_final_g/foundit-frontend/src/components/Signup.js"],"names":["React","useState","Link","TextField","InputLabel","MenuItem","FormControl","Select","Signup","props","credentials","setCredentials","name","email","password","cpassword","mobile_no","department","user_image","setUser_image","imglmtexc","setImglmtexc","gen","setGen","fontsize","fontS","style","fontSize","minl","minLength","onChange","e","target","value","handleSignup","preventDefault","FormData","require","data","append","li_dot","lastIndexOf","img_ext","substring","alert","size","showAlert","includes","response","fetch","method","body","json","success","localStorage","removeItem","message","maxLength","event","image","files"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\nfunction Signup(props) {\r\n  const [credentials, setCredentials] = useState({ name: \"\", email: \"\", password: \"\", cpassword: \"\", mobile_no: \"\", department: \"\"});\r\n  const [user_image, setUser_image] = useState();\r\n  const [imglmtexc, setImglmtexc] = useState(false);\r\n  const [gen, setGen] = useState('')\r\n\r\n  const fontsize=21\r\n  const fontS = { style: { fontSize: fontsize } };\r\n  const minl={minLength:2};\r\n\r\n  const onChange = (e) => {\r\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\r\n  }\r\n  const { email, name, password, mobile_no, department } = credentials;\r\n\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault(); // default settings of form\r\n    // *******API call to Signup*****\r\n    var FormData = require('form-data');\r\n    let data = new FormData();\r\n    data.append('name', name);\r\n    data.append('email', email);\r\n    data.append('password', password);\r\n    data.append('mobile_no', mobile_no);\r\n    data.append('department', department);\r\n    data.append('gender', gen);\r\n    data.append('user_image', user_image);\r\n\r\n    // Image validation\r\n    let li_dot=user_image.name.lastIndexOf('.');\r\n    let img_ext=user_image.name.substring(li_dot+1);\r\n    if(!(img_ext==='jpeg' || img_ext==='png' || img_ext==='jpg')){\r\n      alert(\"please upload a image not a file\"); return;\r\n    }\r\n    if (user_image && user_image.size > 2 * 1024 * 1024) { \r\n      setImglmtexc(true); props.showAlert(\"Image size exceeded\", \"danger\");   return; \r\n    }\r\n    setImglmtexc(false);\r\n    // Email validation\r\n    if(!(email.includes(\"@gmail.com\"))){ \r\n      props.showAlert(\"Enter your webmail of NITT\", \"danger\");  return;  \r\n    }\r\n\r\n    const response = await fetch(`/api/auth/createuser`, {\r\n      method: 'POST',\r\n      body: data\r\n    });\r\n    const json = await response.json();\r\n    if (json.success) {\r\n      localStorage.removeItem('auth_token');\r\n      props.showAlert(\"An Email is sent on your email id please verify that.\", \"success\");\r\n    }\r\n    else {\r\n      props.showAlert(json.message, \"danger\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='d-flex flex-column justify-content-center align-items-center m-3 my-5'>\r\n      <div className='col-lg-4 col-md-9 col-12'>\r\n        {/* <img className=\"img-fluid mx-auto d-block my-3 input-group-lg\" src=\"https://themes.getbootstrap.com/wp-content/themes/bootstrap-marketplace/assets/images/elements/bootstrap-logo.svg\" alt=\"\" /> */}\r\n        <h2 className='text-center mb-4'>Register to foundIt</h2>\r\n        <form onSubmit={handleSignup} method=\"POST\">\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField fullWidth id=\"name\" label=\"Name\" variant=\"standard\" onChange={onChange} name=\"name\" InputProps={fontS}\r\n              InputLabelProps={fontS} inputProps={minl}/>\r\n          </div>\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField type=\"email\" fullWidth id=\"email\" label=\"Webmail address\" variant=\"standard\"  onChange={onChange} name=\"email\" InputProps={fontS}\r\n              InputLabelProps={fontS} inputProps={minl}/>\r\n          </div>\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField fullWidth id=\"mobile_no\" label=\"Mobile Number\" variant=\"standard\" onChange={onChange} name=\"mobile_no\" InputProps={fontS}\r\n              InputLabelProps={fontS} inputProps={{minLength:10, maxLength:10}}/>\r\n          </div>\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField fullWidth id=\"department\" label=\"Department\" variant=\"standard\" onChange={onChange} name=\"department\" InputProps={fontS}\r\n              InputLabelProps={fontS} inputProps={minl}/>\r\n          </div>\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField type=\"password\" fullWidth id=\"password\" label=\"Password\" variant=\"standard\" onChange={onChange} name=\"password\" InputProps={fontS}\r\n              InputLabelProps={fontS} inputProps={{minLength:5, maxLength:16}}/>\r\n          </div>\r\n          <div className=\"my-3 input-group-lg\">\r\n            <TextField type=\"password\" fullWidth id=\"cpassword\" label=\"Confirm Password\" variant=\"standard\" onChange={onChange} name=\"cpassword\" InputProps={fontS} InputLabelProps={fontS} inputProps={{minLength:5, maxLength:16}}/>\r\n          </div>\r\n\r\n          <div className=\"my-3 input-group-lg\">\r\n            <FormControl fullWidth variant='standard' required>\r\n              <InputLabel id=\"demo-simple-select-helper-label\"  sx={{ fontSize: fontsize }}>Gender</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-helper-label\"\r\n                id=\"demo-simple-select-helper\"\r\n                value={gen} sx={{ fontSize: fontsize }}\r\n                label=\"Age\"\r\n                onChange={(e) => { setGen(e.target.value) }}\r\n              >\r\n                <MenuItem value=\"\" sx={{ fontSize: fontsize }}>\r\n                  <em>None</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"Male\" sx={{ fontSize: fontsize }}>Male</MenuItem>\r\n                <MenuItem value=\"Female\" sx={{ fontSize: fontsize }}>Female</MenuItem>\r\n                <MenuItem value=\"Other\" sx={{ fontSize: fontsize }}>Other</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <div className=\"mt-3 input-group-lg p-0\">\r\n            {/* {imglmtexc && <label htmlFor=\"user_image\" className=\"form-label text-danger\"> Image size exceeded!!</label>} */}\r\n            <TextField required focused label=\"Your image\" type=\"file\" fullWidth id=\"email\" variant=\"standard\" name=\"email\" InputProps={fontS}\r\n              InputLabelProps={fontS} onChange={event => {\r\n                const image = event.target.files[0];\r\n                if (image && image.size > 2 * 1024 * 1024) setImglmtexc(true);\r\n                else setImglmtexc(false);\r\n                setUser_image(image);\r\n              }}/>\r\n            <div className='d-flex flex-row justify-content-between'>\r\n              <div className=\"form-text p-0 m-0\">max image size is 2MB</div>\r\n              {imglmtexc && <label htmlFor=\"user_image\" className=\"p-0 m-0 text-danger form-text\"> Image size exceeded!!</label>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className='d-grid mt-5'>\r\n            <button type=\"submit\" className=\"btn btn-primary btn-lg\">Sign up</button>\r\n          </div>\r\n          <div className='m-0 mt-4 fs-6 text-center'>\r\n            <p className='text-muted d-inline'>Already have an Account? </p> <Link className=\"\" to=\"/login\">Signin</Link>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}